<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Kindle Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Courier New', monospace;
            background: #fff;
            color: #000;
            width: 100vw;
            max-width: 100%;
            margin: 0 auto;
            overflow-x: hidden;
        }

        /* ‚îÄ‚îÄ Tabs ‚îÄ‚îÄ */
        .tabs {
            display: flex;
            border-bottom: 3px solid #000;
            background: #f0f0f0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .tab-btn {
            flex: 1;
            padding: clamp(6px,1.5vw,10px);
            background: #e0e0e0;
            border: none;
            border-right: 2px solid #000;
            font-family: 'Courier New', monospace;
            font-size: clamp(10px,1.9vw,13px);
            font-weight: bold;
            cursor: pointer;
            white-space: nowrap;
        }
        .tab-btn:last-child { border-right: none; }
        .tab-btn.active { background: #fff; }

        .tab-content { display: none; padding: clamp(10px,2vw,15px); font-size: clamp(14px,2.5vw,16px); line-height: 1.3; }
        .tab-content.active { display: block; }

        /* ‚îÄ‚îÄ Clock (Tab 1) ‚îÄ‚îÄ */
        .clock { text-align: center; margin-bottom: clamp(10px,3vw,20px); }
        #time { font-size: clamp(36px,10vw,72px); font-weight: bold; letter-spacing: clamp(2px,1vw,8px); }
        #date { font-size: clamp(14px,3vw,22px); margin-top: clamp(4px,1vw,10px); }

        /* ‚îÄ‚îÄ FX Rate ‚îÄ‚îÄ */
        .fx-rate {
            background: #f8f8f8;
            border: 2px solid #000;
            padding: clamp(8px,2vw,12px);
            margin-bottom: clamp(10px,2vw,15px);
            text-align: center;
        }
        .rate-big { font-size: clamp(20px,5vw,32px); font-weight: bold; }

        /* ‚îÄ‚îÄ Weather ‚îÄ‚îÄ */
        .weather {
            border: 2px solid #000;
            padding: clamp(8px,2vw,12px);
            margin-bottom: clamp(10px,2vw,15px);
            background: #f8f8f8;
        }
        .weather-header { font-size: clamp(12px,2.5vw,14px); margin-bottom: 6px; }
        .weather-main { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
        .weather-temp { font-size: clamp(28px,6vw,40px); font-weight: bold; }
        .weather-icon { font-size: clamp(28px,6vw,40px); }
        .weather-info { font-size: clamp(12px,2.5vw,15px); line-height: 1.6; }

        /* ‚îÄ‚îÄ Calendar (Tab 1) ‚îÄ‚îÄ */
        .calendar { border: 2px solid #000; margin-bottom: clamp(10px,2vw,15px); padding: clamp(6px,1.5vw,10px); overflow-x: auto; }
        .calendar table { width: 100%; font-size: clamp(11px,2.5vw,16px); border-collapse: collapse; }
        .calendar th { border-bottom: 2px solid #000; padding: clamp(3px,1vw,6px); background: #f0f0f0; }
        .calendar td {
            border-right: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
            width: 14.28%;
            height: clamp(24px,5vw,36px);
            padding: 2px;
            text-align: center;
            vertical-align: middle;
        }
        .calendar td.today { background: #ddd; font-weight: bold; border: 2px solid #000; }
        .calendar td.holiday { color: #c00; font-weight: bold; }

        /* ‚îÄ‚îÄ Holidays ‚îÄ‚îÄ */
        .holidays {
            border: 2px solid #000;
            padding: clamp(6px,1.5vw,10px);
            font-size: clamp(11px,2.3vw,14px);
            margin-bottom: clamp(8px,2vw,12px);
            max-height: clamp(80px,15vh,120px);
            overflow-y: auto;
        }
        .holidays h3 { font-size: clamp(13px,2.8vw,17px); margin-bottom: clamp(4px,1vw,8px); border-bottom: 1px solid #000; padding-bottom: 3px; }
        .holiday-item { padding: clamp(2px,0.8vw,4px) 0; border-bottom: 1px dotted #ccc; }

        /* ‚îÄ‚îÄ Quote (Tab 1) ‚îÄ‚îÄ */
        .quote {
            border: 2px solid #000;
            padding: clamp(8px,2vw,12px);
            margin-bottom: clamp(8px,2vw,12px);
            background: #f9f9f9;
            font-size: clamp(11px,2.3vw,14px);
            font-style: italic;
            line-height: 1.5;
            min-height: clamp(60px,12vh,90px);
        }
        .quote-text { margin-bottom: clamp(4px,1vw,8px); }
        .quote-author { text-align: right; font-weight: bold; font-style: normal; }

        /* ‚îÄ‚îÄ Lock Screen (Tab 2) ‚îÄ‚îÄ */
        .lockscreen {
            position: relative;
            width: 100%;
            height: calc(100vh - 45px);
            min-height: 500px;
            background: #222;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: clamp(20px,5vw,50px) clamp(15px,4vw,40px);
            background-size: cover;
            background-position: center;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="800"><rect fill="%23222" width="600" height="800"/><text x="300" y="400" font-size="18" fill="%23555" text-anchor="middle" font-family="monospace">Upload images/lockscreen.jpg</text></svg>');
        }
        .lock-overlay {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(180deg,rgba(0,0,0,0.6) 0%,rgba(0,0,0,0.25) 50%,rgba(0,0,0,0.7) 100%);
            z-index: 1;
        }
        .lock-content { position: relative; z-index: 2; text-align: center; }
        .lock-time {
            font-size: clamp(52px,15vw,100px);
            font-weight: bold;
            letter-spacing: clamp(2px,1vw,6px);
            text-shadow: 0 2px 8px rgba(0,0,0,0.9);
            margin-bottom: clamp(6px,2vw,15px);
        }
        .lock-date { font-size: clamp(16px,4vw,28px); text-shadow: 0 2px 4px rgba(0,0,0,0.9); }
        .lock-info { position: relative; z-index: 2; text-align: center; text-shadow: 0 2px 4px rgba(0,0,0,0.9); }
        .lock-weather { font-size: clamp(18px,4.5vw,28px); font-weight: bold; margin-bottom: clamp(10px,3vw,20px); }
        .lock-quote { font-size: clamp(13px,3vw,18px); font-style: italic; line-height: 1.5; padding: 0 clamp(10px,4vw,30px); margin-bottom: 8px; color: #eee; }
        .lock-author { font-size: clamp(11px,2.5vw,15px); opacity: 0.85; color: #ccc; }

        /* ‚îÄ‚îÄ News (Tab 3) ‚îÄ‚îÄ */
        .news-section { margin-bottom: clamp(15px,3vw,25px); }
        .news-section h2 { font-size: clamp(15px,3.5vw,20px); border-bottom: 3px solid #000; padding-bottom: clamp(4px,1vw,8px); margin-bottom: clamp(8px,2vw,12px); }
        .news-list { max-height: clamp(250px,40vh,400px); overflow-y: auto; border: 2px solid #000; padding: clamp(8px,2vw,12px); background: #fafafa; }
        .news-item { padding: clamp(6px,1.5vw,10px) 0; border-bottom: 1px solid #ccc; font-size: clamp(11px,2.3vw,14px); line-height: 1.5; }
        .news-item:last-child { border-bottom: none; }
        .news-title { font-weight: bold; margin-bottom: clamp(3px,0.8vw,5px); }
        .news-source { font-size: clamp(9px,2vw,12px); color: #666; }
        .news-loading { text-align: center; padding: 20px; font-style: italic; }

        /* ‚îÄ‚îÄ Big Clock (Tab 4) ‚îÄ‚îÄ */
        .bigclock-wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 45px);
            padding: clamp(10px,3vw,20px);
            text-align: center;
        }
        #bigTime {
            font-size: clamp(72px,22vw,180px);
            font-weight: bold;
            letter-spacing: clamp(4px,2vw,16px);
            line-height: 1;
            margin-bottom: clamp(6px,1.5vw,16px);
        }
        #bigDate {
            font-size: clamp(18px,4.5vw,36px);
            margin-bottom: clamp(10px,2vw,18px);
            letter-spacing: 2px;
        }
        .big-holidays {
            width: 100%;
            max-width: 560px;
            font-size: clamp(12px,2.8vw,18px);
            margin-bottom: clamp(10px,2vw,16px);
            line-height: 1.6;
            min-height: 10px;
            text-align: left;
        }
        .big-holidays .holiday-item { padding: clamp(2px,0.8vw,5px) 0; border-bottom: 1px dotted #ccc; }
        .bigcal { width: 100%; max-width: 560px; }
        .bigcal table { width: 100%; border-collapse: collapse; }
        .bigcal th {
            border-bottom: 2px solid #000;
            padding: clamp(4px,1.5vw,10px);
            background: #f0f0f0;
            font-size: clamp(14px,3vw,22px);
        }
        .bigcal td {
            border: 1px solid #ccc;
            width: 14.28%;
            height: clamp(32px,7vw,56px);
            text-align: center;
            vertical-align: middle;
            font-size: clamp(14px,3vw,20px);
        }
        .bigcal td.today { background: #000; color: #fff; font-weight: bold; border: 2px solid #000; }
        .bigcal td.holiday { color: #c00; font-weight: bold; }
        .big-quote {
            width: 100%;
            max-width: 560px;
            margin-top: clamp(14px,3vw,24px);
            padding: clamp(10px,2vw,16px);
            border-top: 2px solid #000;
            font-style: italic;
            line-height: 1.6;
        }
        .big-quote-text { font-size: clamp(13px,2.8vw,18px); margin-bottom: clamp(6px,1.5vw,10px); }
        .big-quote-author { font-size: clamp(12px,2.5vw,15px); text-align: right; font-style: normal; font-weight: bold; opacity: 0.7; }

        /* ‚îÄ‚îÄ Tab 5: Timer ‚îÄ‚îÄ */
        .timer-wrap {
            display: flex;
            flex-direction: column;
            gap: clamp(16px,4vw,30px);
            padding: clamp(10px,3vw,20px) 0;
            align-items: center;
        }
        .timer-block { width: 100%; max-width: 480px; text-align: center; }
        .timer-label { font-size: clamp(14px,3vw,20px); font-weight: bold; margin-bottom: clamp(6px,2vw,12px); letter-spacing: 2px; }
        .timer-divider { width: 100%; max-width: 480px; border-top: 2px solid #000; }
        .sw-display {
            font-size: clamp(52px,14vw,96px);
            font-weight: bold;
            letter-spacing: clamp(2px,1vw,6px);
            line-height: 1;
            margin-bottom: clamp(12px,3vw,20px);
            font-variant-numeric: tabular-nums;
        }
        .cd-display {
            font-size: clamp(52px,14vw,96px);
            font-weight: bold;
            letter-spacing: clamp(2px,1vw,6px);
            line-height: 1;
            margin-bottom: clamp(10px,2vw,16px);
            font-variant-numeric: tabular-nums;
        }
        .cd-display.alert { animation: blink 0.5s step-end infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        .timer-btns { display: flex; justify-content: center; gap: clamp(8px,2vw,16px); margin-bottom: clamp(10px,2vw,14px); }
        .tbtn {
            padding: clamp(10px,2.5vw,16px) clamp(16px,4vw,28px);
            font-family: 'Courier New', monospace;
            font-size: clamp(14px,3vw,18px);
            font-weight: bold;
            border: 2px solid #000;
            cursor: pointer;
            min-width: clamp(72px,18vw,110px);
        }
        .tbtn-main { background: #000; color: #fff; }
        .tbtn-main.running { background: #fff; color: #000; }
        .tbtn-sub { background: #e0e0e0; color: #000; }
        .cd-inputs { display: flex; justify-content: center; align-items: center; gap: clamp(6px,2vw,14px); margin-bottom: clamp(10px,2vw,16px); }
        .cd-input-group { display: flex; flex-direction: column; align-items: center; gap: 4px; }
        .cd-adj {
            width: clamp(36px,9vw,52px);
            height: clamp(32px,7vw,44px);
            font-size: clamp(16px,3.5vw,22px);
            font-weight: bold;
            border: 2px solid #000;
            background: #f0f0f0;
            cursor: pointer;
        }
        .cd-val { font-size: clamp(28px,7vw,48px); font-weight: bold; width: clamp(52px,12vw,80px); font-variant-numeric: tabular-nums; }
        .cd-unit { font-size: clamp(11px,2.5vw,15px); opacity: 0.6; }
        .cd-sep { font-size: clamp(28px,7vw,48px); font-weight: bold; margin-bottom: 18px; }
        .cd-alert { font-size: clamp(14px,3vw,20px); font-weight: bold; min-height: 28px; color: #c00; }
        .lap-list { max-height: clamp(80px,15vh,130px); overflow-y: auto; border: 1px solid #ccc; font-size: clamp(11px,2.5vw,15px); text-align: left; }
        .lap-item { display: flex; justify-content: space-between; padding: clamp(3px,1vw,6px) clamp(6px,1.5vw,10px); border-bottom: 1px dotted #ccc; }
        .lap-item:last-child { border-bottom: none; }
        .lap-item.fastest { font-weight: bold; }
        .lap-item.slowest { opacity: 0.5; }

        /* ‚îÄ‚îÄ Tab 6: Calculator ‚îÄ‚îÄ */
        .calc-wrap {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: clamp(10px,3vw,30px) 0;
            min-height: calc(100vh - 45px);
        }
        .calc { width: 100%; max-width: 420px; display: flex; flex-direction: column; }
        .calc-display {
            background: #1a1a1a;
            color: #fff;
            padding: clamp(12px,3vw,24px) clamp(16px,4vw,28px);
            text-align: right;
            min-height: clamp(90px,18vw,140px);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }
        .calc-expr { font-size: clamp(14px,3vw,20px); opacity: 0.5; min-height: clamp(18px,4vw,26px); margin-bottom: 4px; word-break: break-all; }
        .calc-num { font-size: clamp(44px,11vw,76px); font-weight: 200; letter-spacing: -1px; line-height: 1; word-break: break-all; transition: font-size 0.1s; }
        .calc-num.small  { font-size: clamp(28px,7vw,48px); }
        .calc-num.xsmall { font-size: clamp(20px,5vw,34px); }
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: clamp(2px,0.8vw,6px);
            background: #1a1a1a;
            padding: clamp(2px,0.8vw,6px);
        }
        .cb {
            height: clamp(64px,16vw,100px);
            font-size: clamp(20px,5vw,34px);
            font-weight: 400;
            border: none;
            cursor: pointer;
            font-family: 'Helvetica Neue', sans-serif;
            transition: opacity 0.1s;
            border-radius: clamp(4px,1.5vw,10px);
        }
        .cb:active { opacity: 0.7; }
        .cb-num { background: #333; color: #fff; }
        .cb-fn  { background: #a5a5a5; color: #000; }
        .cb-op  { background: #f0a500; color: #fff; font-size: clamp(24px,6vw,40px); }
        .cb-op.active { background: #fff; color: #f0a500; }
        .cb-zero { grid-column: span 2; text-align: left; padding-left: clamp(20px,5vw,36px); }

        /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
        .footer { text-align: center; font-size: clamp(9px,2vw,12px); opacity: 0.6; margin-top: 10px; padding-bottom: 8px; }

        /* ‚îÄ‚îÄ Media Queries ‚îÄ‚îÄ */
        @media (max-width: 480px) {
            .tab-btn { padding: 6px 2px; font-size: 9px; }
            #time { font-size: 36px; }
            #bigTime { font-size: 60px; }
        }
        @media (min-width: 481px) and (max-width: 768px) {
            #time { font-size: 56px; }
            #bigTime { font-size: 100px; }
        }
        @media (min-width: 769px) and (max-width: 1024px) {
            body { max-width: 800px; margin: 0 auto; }
            #time { font-size: 64px; }
            #bigTime { font-size: 140px; }
        }
        @media (min-width: 1025px) {
            body { max-width: 900px; margin: 0 auto; }
            .tab-content { padding: 20px 30px; }
            #time { font-size: 72px; }
            #bigTime { font-size: 180px; }
            .calendar td { height: 40px; font-size: 16px; }
            .news-list { max-height: 450px; }
        }
        @media (orientation: landscape) and (max-height: 600px) {
            .lockscreen { height: 100vh; }
            .lock-time { font-size: clamp(36px,12vw,72px); }
            #bigTime { font-size: clamp(48px,14vw,100px); }
        }
    </style>
</head>
<body>

<!-- ‚îÄ‚îÄ Tabs ‚îÄ‚îÄ -->
<div class="tabs">
    <button class="tab-btn" onclick="switchTab(0)">üìä Info</button>
    <button class="tab-btn" onclick="switchTab(1)">üîí Lock</button>
    <button class="tab-btn" onclick="switchTab(2)">üì∞ News</button>
    <button class="tab-btn active" onclick="switchTab(3)">üïê Clock</button>
    <button class="tab-btn" onclick="switchTab(4)">‚è±Ô∏è Timer</button>
    <button class="tab-btn" onclick="switchTab(5)">üî¢ Calc</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB 1: Dashboard ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="tab1" class="tab-content">
    <div class="clock">
        <div id="time">14:28:00</div>
        <div id="date">2026Âπ¥02Êúà22Êó•ÔºàÊó•Ôºâ</div>
    </div>
    <div class="fx-rate">
        <div>üí± JPY / VND</div>
        <div id="fxrate" class="rate-big">1 JPY = --- VND</div>
        <div id="fxtime" style="font-size:11px;opacity:0.6;"></div>
    </div>
    <div class="weather">
        <div class="weather-header">‚õÖ Tokyo ‚Äì Th·ªùi ti·∫øt hi·ªán t·∫°i</div>
        <div class="weather-main">
            <div class="weather-temp" id="wTemp">--¬∞C</div>
            <div class="weather-icon" id="wIcon">‚õÖ</div>
        </div>
        <div class="weather-info">
            <span id="wDesc">ƒêang t·∫£i...</span><br>
            üíß ƒê·ªô ·∫©m: <b id="wHumidity">--%</b> &nbsp; üí® Gi√≥: <b id="wWind">-- km/h</b>
        </div>
    </div>
    <div class="calendar">
        <table id="calendar"></table>
    </div>
    <div class="holidays">
        <h3>üéå L·ªÖ th√°ng n√†y</h3>
        <div id="holidayList">ƒêang t·∫£i...</div>
    </div>
    <div class="quote">
        <div class="quote-text" id="quoteText">ƒêang t·∫£i...</div>
        <div class="quote-author" id="quoteAuthor"></div>
    </div>
    <div class="footer">Kindle Dashboard ¬∑ Saitama Homelab</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB 2: Lock Screen ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="tab2" class="tab-content">
    <div class="lockscreen">
        <div class="lock-overlay"></div>
        <div class="lock-content">
            <div class="lock-time" id="lockTime">14:28</div>
            <div class="lock-date" id="lockDate">Êó•ÊõúÊó•, 2Êúà22Êó•</div>
        </div>
        <div class="lock-info">
            <div class="lock-weather" id="lockWeather">‚õÖ --¬∞C ¬∑ Tokyo</div>
            <div class="lock-quote" id="lockQuote">"..."</div>
            <div class="lock-author" id="lockAuthor"></div>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB 3: RSS News ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="tab3" class="tab-content">
    <div class="news-section">
        <h2>üáØüáµ Nh·∫≠t B·∫£n ‚Äì Top Stories</h2>
        <div id="newsJP" class="news-list">
            <div class="news-loading">ƒêang t·∫£i...</div>
        </div>
    </div>
    <div class="news-section">
        <h2>üáªüá≥ Vi·ªát Nam ‚Äì Tin n·ªïi b·∫≠t</h2>
        <div id="newsVN" class="news-list">
            <div class="news-loading">ƒêang t·∫£i...</div>
        </div>
    </div>
    <div class="footer">Google News RSS ¬∑ rss2json API</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB 4: Big Clock (DEFAULT) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="tab4" class="tab-content active">
    <div class="bigclock-wrap">
        <div id="bigTime">14:28</div>
        <div id="bigDate">2026Âπ¥02Êúà22Êó•ÔºàÊó•Ôºâ</div>
        <div class="big-holidays" id="bigHolidayList"></div>
        <div class="bigcal">
            <table id="bigCalendar"></table>
        </div>
        <div class="big-quote">
            <div class="big-quote-text" id="bigQuoteText"></div>
            <div class="big-quote-author" id="bigQuoteAuthor"></div>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB 5: Stopwatch & Countdown ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="tab5" class="tab-content">
    <div class="timer-wrap">

        <div class="timer-block">
            <div class="timer-label">‚è±Ô∏è Stopwatch</div>
            <div class="sw-display" id="swDisplay">00:00.0</div>
            <div class="timer-btns">
                <button class="tbtn tbtn-main" id="swStartBtn" onclick="swToggle()">START</button>
                <button class="tbtn tbtn-sub"  onclick="swReset()">RESET</button>
                <button class="tbtn tbtn-sub"  onclick="swLap()">LAP</button>
            </div>
            <div class="lap-list" id="lapList"></div>
        </div>

        <div class="timer-divider"></div>

        <div class="timer-block">
            <div class="timer-label">‚è≥ Countdown</div>
            <div class="cd-display" id="cdDisplay">05:00</div>
            <div class="cd-inputs">
                <div class="cd-input-group">
                    <button class="cd-adj" onclick="cdAdj('m',1)">Ôºã</button>
                    <div class="cd-val" id="cdMin">05</div>
                    <div class="cd-unit">ÂàÜ</div>
                    <button class="cd-adj" onclick="cdAdj('m',-1)">Ôºç</button>
                </div>
                <div class="cd-sep">:</div>
                <div class="cd-input-group">
                    <button class="cd-adj" onclick="cdAdj('s',10)">Ôºã</button>
                    <div class="cd-val" id="cdSec">00</div>
                    <div class="cd-unit">Áßí</div>
                    <button class="cd-adj" onclick="cdAdj('s',-10)">Ôºç</button>
                </div>
            </div>
            <div class="timer-btns">
                <button class="tbtn tbtn-main" id="cdStartBtn" onclick="cdToggle()">START</button>
                <button class="tbtn tbtn-sub"  onclick="cdReset()">RESET</button>
            </div>
            <div class="cd-alert" id="cdAlert"></div>
        </div>

    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB 6: Calculator ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="tab6" class="tab-content">
    <div class="calc-wrap">
        <div class="calc">
            <div class="calc-display">
                <div class="calc-expr" id="calcExpr"></div>
                <div class="calc-num"  id="calcNum">0</div>
            </div>
            <div class="calc-grid">
                <button class="cb cb-fn"  onclick="calcFn('AC')">AC</button>
                <button class="cb cb-fn"  onclick="calcFn('+/-')">+/-</button>
                <button class="cb cb-fn"  onclick="calcFn('%')">%</button>
                <button class="cb cb-op"  id="op-div" onclick="calcOp('√∑')">√∑</button>
                <button class="cb cb-num" onclick="calcNum('7')">7</button>
                <button class="cb cb-num" onclick="calcNum('8')">8</button>
                <button class="cb cb-num" onclick="calcNum('9')">9</button>
                <button class="cb cb-op"  id="op-mul" onclick="calcOp('√ó')">√ó</button>
                <button class="cb cb-num" onclick="calcNum('4')">4</button>
                <button class="cb cb-num" onclick="calcNum('5')">5</button>
                <button class="cb cb-num" onclick="calcNum('6')">6</button>
                <button class="cb cb-op"  id="op-sub" onclick="calcOp('‚àí')">‚àí</button>
                <button class="cb cb-num" onclick="calcNum('1')">1</button>
                <button class="cb cb-num" onclick="calcNum('2')">2</button>
                <button class="cb cb-num" onclick="calcNum('3')">3</button>
                <button class="cb cb-op"  id="op-add" onclick="calcOp('+')">+</button>
                <button class="cb cb-num cb-zero" onclick="calcNum('0')">0</button>
                <button class="cb cb-num" onclick="calcNum('.')">.</button>
                <button class="cb cb-op"  onclick="calcEqual();">=</button>
            </div>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê JavaScript ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script type="text/javascript">

    /* ‚îÄ‚îÄ Constants ‚îÄ‚îÄ */
    var WEEKDAYS      = ['Êó•','Êúà','ÁÅ´','Ê∞¥','Êú®','Èáë','Âúü'];
    var WEEKDAYS_FULL = ['Êó•ÊõúÊó•','ÊúàÊõúÊó•','ÁÅ´ÊõúÊó•','Ê∞¥ÊõúÊó•','Êú®ÊõúÊó•','ÈáëÊõúÊó•','ÂúüÊõúÊó•'];
    var JST_OFFSET    = 9 * 60;
    var holidayDates  = {};

    var WMO = {
        0:['‚òÄÔ∏è','Tr·ªùi quang'],    1:['üå§Ô∏è','√çt m√¢y'],       2:['‚õÖ','C√≥ m√¢y'],
        3:['‚òÅÔ∏è','Nhi·ªÅu m√¢y'],     45:['üå´Ô∏è','S∆∞∆°ng m√π'],    48:['üå´Ô∏è','S∆∞∆°ng ƒë√°'],
        51:['üå¶Ô∏è','M∆∞a ph√πn nh·∫π'], 53:['üå¶Ô∏è','M∆∞a ph√πn'],   55:['üåßÔ∏è','M∆∞a ph√πn d√†y'],
        61:['üåßÔ∏è','M∆∞a nh·∫π'],     63:['üåßÔ∏è','M∆∞a v·ª´a'],     65:['üåßÔ∏è','M∆∞a to'],
        71:['üå®Ô∏è','Tuy·∫øt nh·∫π'],   73:['üå®Ô∏è','Tuy·∫øt v·ª´a'],   75:['‚ùÑÔ∏è','Tuy·∫øt d√†y'],
        80:['üå¶Ô∏è','M∆∞a r√†o nh·∫π'],  81:['üåßÔ∏è','M∆∞a r√†o'],    82:['‚õàÔ∏è','M∆∞a r√†o to'],
        95:['‚õàÔ∏è','D√¥ng b√£o'],     96:['‚õàÔ∏è','D√¥ng+m∆∞a ƒë√°'], 99:['‚õàÔ∏è','D√¥ng l·ªõn']
    };

    var QUOTES = [
        ["N·∫øu b·∫°n th·ª±c s·ª± mu·ªën l√†m ƒëi·ªÅu g√¨ ƒë√≥, b·∫°n s·∫Ω t√¨m ra c√°ch. N·∫øu kh√¥ng, b·∫°n s·∫Ω t√¨m th·∫•y m·ªôt c√°i c·ªõ.", "Jim Rohn"],
        ["ƒê·ª´ng ng·∫°i t·ª´ b·ªè ƒëi·ªÅu t·ªët ƒë·∫πp ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c ƒëi·ªÅu vƒ© ƒë·∫°i.", "John D. Rockefeller"],
        ["Th√†nh c√¥ng th∆∞·ªùng ƒë·∫°t ƒë∆∞·ª£c b·ªüi nh·ªØng ng∆∞·ªùi kh√¥ng bi·∫øt r·∫±ng th·∫•t b·∫°i l√† kh√¥ng th·ªÉ tr√°nh kh·ªèi.", "Coco Chanel"],
        ["N·∫øu b·∫°n m∆° ∆∞·ªõc ƒë∆∞·ª£c, b·∫°n s·∫Ω l√†m ƒë∆∞·ª£c.", "Walt Disney"],
        ["C√°ch duy nh·∫•t ƒë·ªÉ l√†m c√¥ng vi·ªác tuy·ªát v·ªùi l√† y√™u nh·ªØng g√¨ b·∫°n l√†m.", "Steve Jobs"],
        ["Th√†nh c√¥ng l√† ƒëi t·ª´ th·∫•t b·∫°i n√†y sang th·∫•t b·∫°i kh√°c m√† kh√¥ng m·∫•t ƒëi s·ª± nhi·ªát t√¨nh.", "Winston Churchill"],
        ["H√†nh ƒë·ªông l√† ch√¨a kh√≥a n·ªÅn t·∫£ng cho m·ªçi th√†nh c√¥ng.", "Pablo Picasso"],
        ["T√¥i kh√¥ng th·∫•t b·∫°i. T√¥i ch·ªâ t√¨m th·∫•y 10,000 c√°ch kh√¥ng hi·ªáu qu·∫£.", "Thomas Edison"],
        ["T∆∞∆°ng lai thu·ªôc v·ªÅ nh·ªØng ng∆∞·ªùi tin v√†o v·∫ª ƒë·∫πp c·ªßa gi·∫•c m∆° m√¨nh.", "Eleanor Roosevelt"],
        ["B·∫°n kh√¥ng c·∫ßn ph·∫£i tuy·ªát v·ªùi ƒë·ªÉ b·∫Øt ƒë·∫ßu, nh∆∞ng b·∫°n ph·∫£i b·∫Øt ƒë·∫ßu ƒë·ªÉ tr·ªü n√™n tuy·ªát v·ªùi.", "Zig Ziglar"],
        ["ƒê·ª´ng ch·ªù ƒë·ª£i. Th·ªùi ƒëi·ªÉm s·∫Ω kh√¥ng bao gi·ªù ho√†n h·∫£o.", "Napoleon Hill"],
        ["Ng∆∞·ªùi chi·∫øn th·∫Øng kh√¥ng bao gi·ªù b·ªè cu·ªôc. Ng∆∞·ªùi b·ªè cu·ªôc kh√¥ng bao gi·ªù chi·∫øn th·∫Øng.", "Vince Lombardi"],
        ["M∆° ∆∞·ªõc l·ªõn. B·∫Øt ƒë·∫ßu nh·ªè. Nh∆∞ng tr√™n h·∫øt, h√£y b·∫Øt ƒë·∫ßu.", "Simon Sinek"],
        ["Th√†nh c√¥ng kh√¥ng ph·∫£i l√† ch√¨a kh√≥a c·ªßa h·∫°nh ph√∫c. H·∫°nh ph√∫c l√† ch√¨a kh√≥a c·ªßa th√†nh c√¥ng.", "Albert Schweitzer"],
        ["T√¥i th·∫•t b·∫°i nhi·ªÅu l·∫ßn. V√† ƒë√≥ l√† l√Ω do t√¥i th√†nh c√¥ng.", "Michael Jordan"],
        ["H√£y ƒë·∫ßu t∆∞ v√†o b·∫£n th√¢n m√¨nh. ƒê√≥ l√† kho·∫£n ƒë·∫ßu t∆∞ t·ªët nh·∫•t b·∫°n t·ª´ng th·ª±c hi·ªán.", "Robin Sharma"],
        ["N·∫øu b·∫°n kh√¥ng x√¢y d·ª±ng gi·∫•c m∆° c·ªßa m√¨nh, ai ƒë√≥ s·∫Ω thu√™ b·∫°n ƒë·ªÉ x√¢y d·ª±ng gi·∫•c m∆° c·ªßa h·ªç.", "Tony Gaskins"],
        ["Th√°i ƒë·ªô c·ªßa b·∫°n, ch·ª© kh√¥ng ph·∫£i nƒÉng l·ª±c c·ªßa b·∫°n, s·∫Ω quy·∫øt ƒë·ªãnh ƒë·ªô cao c·ªßa b·∫°n.", "Zig Ziglar"],
        ["C∆° h·ªôi kh√¥ng t·ª± nhi√™n ƒë·∫øn. B·∫°n t·ª± t·∫°o ra n√≥.", "Chris Grosser"],
        ["S·ª± ki√™n tr√¨ chi·∫øn th·∫Øng t√†i nƒÉng khi t√†i nƒÉng kh√¥ng ki√™n tr√¨.", "John Wooden"],
        ["H√£y c·ªë g·∫Øng ƒë·ª´ng tr·ªü th√†nh ng∆∞·ªùi th√†nh c√¥ng. Thay v√†o ƒë√≥ h√£y tr·ªü th√†nh ng∆∞·ªùi c√≥ gi√° tr·ªã.", "Albert Einstein"],
        ["Kh√¥ng c√≥ b√≠ quy·∫øt cho th√†nh c√¥ng. ƒê√≥ l√† k·∫øt qu·∫£ c·ªßa s·ª± chu·∫©n b·ªã, l√†m vi·ªác chƒÉm ch·ªâ v√† h·ªçc h·ªèi t·ª´ th·∫•t b·∫°i.", "Colin Powell"],
        ["Th√†nh c√¥ng l√† l√†m nh·ªØng g√¨ b·∫°n y√™u th√≠ch v√† y√™u th√≠ch nh·ªØng g√¨ b·∫°n l√†m.", "Wayne Dyer"],
        ["C√°ch t·ªët nh·∫•t ƒë·ªÉ d·ª± ƒëo√°n t∆∞∆°ng lai l√† t·ª± t·∫°o ra n√≥.", "Peter Drucker"],
        ["H√£y s·ªëng nh∆∞ th·ªÉ b·∫°n s·∫Ω ch·∫øt ng√†y mai. H·ªçc nh∆∞ th·ªÉ b·∫°n s·∫Ω s·ªëng m√£i m√£i.", "Mahatma Gandhi"],
        ["Ch√∫ng ta t·∫°o ra cu·ªôc s·ªëng c·ªßa m√¨nh v√† ch√∫ng ta t·∫°o ra n√≥ m·ªói ng√†y.", "Oprah Winfrey"],
        ["B·∫°n c√†ng ƒëam m√™ ƒëi·ªÅu g√¨, b·∫°n c√†ng th√†nh c√¥ng trong ƒëi·ªÅu ƒë√≥.", "Oprah Winfrey"],
        ["ƒê·ª´ng ƒë·∫øm ng√†y. H√£y l√†m cho m·ªói ng√†y c√≥ √Ω nghƒ©a.", "Muhammad Ali"],
        ["B·∫°n l√† ki·∫øn tr√∫c s∆∞ c·ªßa s·ªë ph·∫≠n c·ªßa ch√≠nh m√¨nh.", "Khuy·∫øt danh"],
        ["ƒê·ª´ng s·ª£ th·∫•t b·∫°i. S·ª£ kh√¥ng c·ªë g·∫Øng.", "Khuy·∫øt danh"]
    ];

    var selectedQuote = QUOTES[Math.floor(Math.random() * QUOTES.length)];

    /* ‚îÄ‚îÄ Helpers ‚îÄ‚îÄ */
    function pad(n) { return (n < 10) ? '0' + n : '' + n; }

    function getJST() {
        var now = new Date();
        var utc = now.getTime() + (now.getTimezoneOffset() * 60000);
        return new Date(utc + (JST_OFFSET * 60000));
    }

    function getWMO(code) {
        if (WMO[code]) return WMO[code];
        if (code <= 3)  return ['‚õÖ','C√≥ m√¢y'];
        if (code <= 55) return ['üå¶Ô∏è','M∆∞a ph√πn'];
        if (code <= 65) return ['üåßÔ∏è','M∆∞a'];
        if (code <= 77) return ['üå®Ô∏è','Tuy·∫øt'];
        if (code <= 82) return ['üå¶Ô∏è','M∆∞a r√†o'];
        return ['‚õàÔ∏è','D√¥ng b√£o'];
    }

    /* ‚îÄ‚îÄ Tab Switch ‚îÄ‚îÄ */
    function switchTab(idx) {
        var tabs = document.querySelectorAll('.tab-content');
        var btns = document.querySelectorAll('.tab-btn');
        for (var i = 0; i < tabs.length; i++) {
            if (i === idx) {
                tabs[i].className = 'tab-content active';
                btns[i].className = 'tab-btn active';
            } else {
                tabs[i].className = 'tab-content';
                btns[i].className = 'tab-btn';
            }
        }
        if (idx === 2 && !window.rssLoaded) {
            loadRSSFeeds();
            window.rssLoaded = true;
        }
    }

    /* ‚îÄ‚îÄ Clock ‚îÄ‚îÄ */
    function updateClock() {
        var jst = getJST();
        var h   = pad(jst.getHours());
        var m   = pad(jst.getMinutes());
        var s   = pad(jst.getSeconds());
        var yr  = jst.getFullYear();
        var mo  = pad(jst.getMonth() + 1);
        var dy  = pad(jst.getDate());
        var wd  = WEEKDAYS[jst.getDay()];
        var wdf = WEEKDAYS_FULL[jst.getDay()];

        document.getElementById('time').innerHTML     = h + ':' + m + ':' + s;
        document.getElementById('date').innerHTML     = yr + 'Âπ¥' + mo + 'Êúà' + dy + 'Êó•Ôºà' + wd + 'Ôºâ';
        document.getElementById('lockTime').innerHTML = h + ':' + m;
        document.getElementById('lockDate').innerHTML = wdf + ', ' + mo + 'Êúà' + dy + 'Êó•';
        document.getElementById('bigTime').innerHTML  = h + ':' + m;
        document.getElementById('bigDate').innerHTML  = yr + 'Âπ¥' + mo + 'Êúà' + dy + 'Êó•Ôºà' + wd + 'Ôºâ';
    }

    /* ‚îÄ‚îÄ Quote ‚îÄ‚îÄ */
    function showQuote() {
        document.getElementById('quoteText').innerHTML      = '"' + selectedQuote[0] + '"';
        document.getElementById('quoteAuthor').innerHTML    = '‚Äî ' + selectedQuote[1];
        document.getElementById('lockQuote').innerHTML      = '"' + selectedQuote[0] + '"';
        document.getElementById('lockAuthor').innerHTML     = '‚Äî ' + selectedQuote[1];
        document.getElementById('bigQuoteText').innerHTML   = '"' + selectedQuote[0] + '"';
        document.getElementById('bigQuoteAuthor').innerHTML = '‚Äî ' + selectedQuote[1];
    }

    /* ‚îÄ‚îÄ FX Rate ‚îÄ‚îÄ */
    function loadFX() {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://api.exchangerate-api.com/v4/latest/JPY', true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                var d = JSON.parse(xhr.responseText);
                if (d.rates && d.rates.VND) {
                    var rate = Math.round(d.rates.VND * 100) / 100;
                    document.getElementById('fxrate').innerHTML = '1 JPY = ' + rate + ' VND';
                    var now = getJST();
                    document.getElementById('fxtime').innerHTML = 'Êõ¥Êñ∞ ' + pad(now.getHours()) + ':' + pad(now.getMinutes());
                }
            }
        };
        xhr.send();
    }

    /* ‚îÄ‚îÄ Weather ‚îÄ‚îÄ */
    function loadWeather() {
        var url = 'https://api.open-meteo.com/v1/forecast' +
                  '?latitude=35.6762&longitude=139.6503' +
                  '&current_weather=true' +
                  '&hourly=relativehumidity_2m' +
                  '&timezone=Asia%2FTokyo';
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.onload = function() {
            if (xhr.status === 200) renderWeather(JSON.parse(xhr.responseText));
            else document.getElementById('wDesc').innerHTML = 'L·ªói API';
        };
        xhr.onerror = function() { document.getElementById('wDesc').innerHTML = 'L·ªói k·∫øt n·ªëi'; };
        xhr.send();
    }

    function renderWeather(data) {
        var cw  = data.current_weather;
        var wmo = getWMO(cw.weathercode);
        var t   = Math.round(cw.temperature);
        document.getElementById('wTemp').innerHTML       = t + '¬∞C';
        document.getElementById('wIcon').innerHTML       = wmo[0];
        document.getElementById('wDesc').innerHTML       = wmo[1];
        document.getElementById('wWind').innerHTML       = Math.round(cw.windspeed) + ' km/h';
        document.getElementById('lockWeather').innerHTML = wmo[0] + ' ' + t + '¬∞C ¬∑ Tokyo';
        var hr  = getJST().getHours();
        var hum = (data.hourly && data.hourly.relativehumidity_2m) ? (data.hourly.relativehumidity_2m[hr] || '--') : '--';
        document.getElementById('wHumidity').innerHTML = hum + '%';
    }

    /* ‚îÄ‚îÄ Holidays ‚îÄ‚îÄ */
    function loadHolidays() {
        var year = getJST().getFullYear();
        var xhrJP = new XMLHttpRequest();
        xhrJP.open('GET', 'https://holidays-jp.github.io/api/v1/' + year + '/date.json', true);
        xhrJP.onload = function() { if (xhrJP.status === 200) displayHolidays(JSON.parse(xhrJP.responseText), 'JP'); };
        xhrJP.send();
        var xhrVN = new XMLHttpRequest();
        xhrVN.open('GET', 'https://date.nager.at/api/v3/PublicHolidays/' + year + '/VN', true);
        xhrVN.onload = function() { if (xhrVN.status === 200) displayHolidays(JSON.parse(xhrVN.responseText), 'VN'); };
        xhrVN.send();
    }

    function displayHolidays(data, country) {
        var currentMonth = getJST().getMonth() + 1;
        var html = '';
        if (country === 'JP') {
            for (var ds in data) {
                var p = ds.split('-'); var mo = parseInt(p[1]); var dy = parseInt(p[2]);
                if (mo === currentMonth) { html += '<div class="holiday-item">üáØüáµ ' + mo + '/' + dy + ' ' + data[ds] + '</div>'; holidayDates[dy] = true; }
            }
        } else {
            for (var i = 0; i < data.length; i++) {
                var p = data[i].date.split('-'); var mo = parseInt(p[1]); var dy = parseInt(p[2]);
                if (mo === currentMonth) { html += '<div class="holiday-item">üáªüá≥ ' + mo + '/' + dy + ' ' + data[i].localName + '</div>'; }
            }
        }
        var el = document.getElementById('holidayList');
        if (html) { el.innerHTML = (el.innerHTML === 'ƒêang t·∫£i...' ? '' : el.innerHTML) + html; }
        else if (el.innerHTML === 'ƒêang t·∫£i...') { el.innerHTML = 'Kh√¥ng c√≥ l·ªÖ'; }
        renderCalendar();
        renderBigCalendar();
        renderBigHolidays();
    }

    function renderBigHolidays() {
        var src = document.getElementById('holidayList');
        var el  = document.getElementById('bigHolidayList');
        if (!src || !el) return;
        el.innerHTML = (src.innerHTML === 'ƒêang t·∫£i...') ? '' : src.innerHTML;
    }

    /* ‚îÄ‚îÄ Calendar (Tab 1) ‚îÄ‚îÄ */
    function renderCalendar() {
        var jst = getJST(); var year = jst.getFullYear(); var month = jst.getMonth(); var today = jst.getDate();
        var table = document.getElementById('calendar'); table.innerHTML = '';
        var thead = document.createElement('thead'); var hr = document.createElement('tr');
        for (var i = 0; i < WEEKDAYS.length; i++) { var th = document.createElement('th'); th.innerHTML = WEEKDAYS[i]; hr.appendChild(th); }
        thead.appendChild(hr); table.appendChild(thead);
        var tbody = document.createElement('tbody');
        var firstDay = new Date(year, month, 1).getDay(); var total = new Date(year, month + 1, 0).getDate();
        var row = document.createElement('tr');
        for (var i = 0; i < firstDay; i++) row.appendChild(document.createElement('td'));
        for (var d = 1; d <= total; d++) {
            if ((firstDay + d - 1) % 7 === 0 && d !== 1) { tbody.appendChild(row); row = document.createElement('tr'); }
            var td = document.createElement('td'); td.innerHTML = d;
            if (d === today) td.className = 'today';
            if (holidayDates[d]) td.className = (td.className ? td.className + ' ' : '') + 'holiday';
            row.appendChild(td);
        }
        tbody.appendChild(row); table.appendChild(tbody);
    }

    /* ‚îÄ‚îÄ Big Calendar (Tab 4) ‚îÄ‚îÄ */
    function renderBigCalendar() {
        var jst = getJST(); var year = jst.getFullYear(); var month = jst.getMonth(); var today = jst.getDate();
        var table = document.getElementById('bigCalendar'); table.innerHTML = '';
        var thead = document.createElement('thead'); var hr = document.createElement('tr');
        for (var i = 0; i < WEEKDAYS.length; i++) { var th = document.createElement('th'); th.innerHTML = WEEKDAYS[i]; hr.appendChild(th); }
        thead.appendChild(hr); table.appendChild(thead);
        var tbody = document.createElement('tbody');
        var firstDay = new Date(year, month, 1).getDay(); var total = new Date(year, month + 1, 0).getDate();
        var row = document.createElement('tr');
        for (var i = 0; i < firstDay; i++) row.appendChild(document.createElement('td'));
        for (var d = 1; d <= total; d++) {
            if ((firstDay + d - 1) % 7 === 0 && d !== 1) { tbody.appendChild(row); row = document.createElement('tr'); }
            var td = document.createElement('td'); td.innerHTML = d;
            if (d === today) td.className = 'today';
            if (holidayDates[d]) td.className = (td.className ? td.className + ' ' : '') + 'holiday';
            row.appendChild(td);
        }
        tbody.appendChild(row); table.appendChild(tbody);
    }

    /* ‚îÄ‚îÄ RSS News ‚îÄ‚îÄ */
    function loadRSSFeeds() {
        fetchRSS('https://news.google.com/rss?hl=ja&gl=JP&ceid=JP:ja', 'newsJP', 'üáØüáµ');
        fetchRSS('https://news.google.com/rss?hl=vi&gl=VN&ceid=VN:vi', 'newsVN', 'üáªüá≥');
    }
    function fetchRSS(feedUrl, targetId, flag) {
        var api = 'https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(feedUrl) + '&count=10';
        var xhr = new XMLHttpRequest();
        xhr.open('GET', api, true);
        xhr.onload = function() {
            if (xhr.status === 200) displayRSS(JSON.parse(xhr.responseText), targetId, flag);
            else document.getElementById(targetId).innerHTML = '<div class="news-loading">L·ªói t·∫£i tin</div>';
        };
        xhr.onerror = function() { document.getElementById(targetId).innerHTML = '<div class="news-loading">L·ªói k·∫øt n·ªëi</div>'; };
        xhr.send();
    }
    function displayRSS(data, targetId, flag) {
        var html = '';
        if (data.items && data.items.length > 0) {
            for (var i = 0; i < Math.min(data.items.length, 8); i++) {
                var title  = data.items[i].title  || 'No title';
                var source = data.items[i].author || 'Google News';
                if (title.length > 100) title = title.substring(0, 97) + '...';
                html += '<div class="news-item"><div class="news-title">' + flag + ' ' + title + '</div><div class="news-source">' + source + '</div></div>';
            }
        } else { html = '<div class="news-loading">Kh√¥ng c√≥ tin</div>'; }
        document.getElementById(targetId).innerHTML = html;
    }

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       STOPWATCH
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    var swRunning = false; var swStart = 0; var swElapsed = 0; var swTimer = null; var swLaps = [];

    function swToggle() {
        if (!swRunning) {
            swStart = Date.now() - swElapsed;
            swTimer = setInterval(swTick, 100);
            swRunning = true;
            document.getElementById('swStartBtn').innerHTML  = 'STOP';
            document.getElementById('swStartBtn').className = 'tbtn tbtn-main running';
        } else {
            clearInterval(swTimer);
            swElapsed = Date.now() - swStart;
            swRunning = false;
            document.getElementById('swStartBtn').innerHTML  = 'START';
            document.getElementById('swStartBtn').className = 'tbtn tbtn-main';
        }
    }
    function swTick() { swElapsed = Date.now() - swStart; document.getElementById('swDisplay').innerHTML = swFormat(swElapsed); }
    function swReset() {
        clearInterval(swTimer); swRunning = false; swElapsed = 0; swLaps = [];
        document.getElementById('swDisplay').innerHTML  = '00:00.0';
        document.getElementById('swStartBtn').innerHTML = 'START';
        document.getElementById('swStartBtn').className = 'tbtn tbtn-main';
        document.getElementById('lapList').innerHTML    = '';
    }
    function swLap() {
        if (!swRunning && swElapsed === 0) return;
        swLaps.push(swElapsed); renderLaps();
    }
    function swFormat(ms) {
        var total = Math.floor(ms / 100); var tenth = total % 10;
        var secs  = Math.floor(total / 10) % 60; var mins = Math.floor(total / 600);
        return pad(mins) + ':' + pad(secs) + '.' + tenth;
    }
    function renderLaps() {
        if (swLaps.length === 0) return;
        var splits = [];
        for (var i = 0; i < swLaps.length; i++) splits.push(i === 0 ? swLaps[0] : swLaps[i] - swLaps[i-1]);
        var minSplit = Math.min.apply(null, splits); var maxSplit = Math.max.apply(null, splits);
        var html = '';
        for (var i = swLaps.length - 1; i >= 0; i--) {
            var cls = splits.length > 1 ? (splits[i] === minSplit ? ' fastest' : splits[i] === maxSplit ? ' slowest' : '') : '';
            html += '<div class="lap-item' + cls + '"><span>Lap ' + (i+1) + '</span><span>' + swFormat(splits[i]) + '</span><span>' + swFormat(swLaps[i]) + '</span></div>';
        }
        document.getElementById('lapList').innerHTML = html;
    }

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       COUNTDOWN
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    var cdRunning = false; var cdTimer = null; var cdMinutes = 5; var cdSeconds = 0; var cdRemain = 0;

    function cdAdj(unit, val) {
        if (cdRunning) return;
        if (unit === 'm') cdMinutes = Math.max(0, Math.min(99, cdMinutes + val));
        else cdSeconds = Math.max(0, Math.min(50, cdSeconds + val));
        document.getElementById('cdMin').innerHTML = pad(cdMinutes);
        document.getElementById('cdSec').innerHTML = pad(cdSeconds);
        cdRemain = (cdMinutes * 60 + cdSeconds) * 1000;
        cdRefreshDisplay();
        document.getElementById('cdAlert').innerHTML = '';
    }
    function cdToggle() {
        if (!cdRunning) {
            if (cdRemain <= 0) cdRemain = (cdMinutes * 60 + cdSeconds) * 1000;
            if (cdRemain <= 0) return;
            document.getElementById('cdAlert').innerHTML = '';
            document.getElementById('cdDisplay').className = 'cd-display';
            var endTime = Date.now() + cdRemain;
            cdTimer = setInterval(function() { cdTick(endTime); }, 200);
            cdRunning = true;
            document.getElementById('cdStartBtn').innerHTML  = 'PAUSE';
            document.getElementById('cdStartBtn').className = 'tbtn tbtn-main running';
        } else {
            clearInterval(cdTimer); cdRunning = false;
            document.getElementById('cdStartBtn').innerHTML  = 'START';
            document.getElementById('cdStartBtn').className = 'tbtn tbtn-main';
        }
    }
    function cdTick(endTime) {
        cdRemain = endTime - Date.now();
        if (cdRemain <= 0) {
            cdRemain = 0; clearInterval(cdTimer); cdRunning = false;
            document.getElementById('cdDisplay').innerHTML  = '00:00';
            document.getElementById('cdDisplay').className = 'cd-display alert';
            document.getElementById('cdStartBtn').innerHTML = 'START';
            document.getElementById('cdStartBtn').className = 'tbtn tbtn-main';
            document.getElementById('cdAlert').innerHTML   = 'üîî H·∫øt gi·ªù!';
            return;
        }
        cdRefreshDisplay();
    }
    function cdRefreshDisplay() {
        var total = Math.ceil(cdRemain / 1000); var m = Math.floor(total / 60); var s = total % 60;
        document.getElementById('cdDisplay').innerHTML = pad(m) + ':' + pad(s);
    }
    function cdReset() {
        clearInterval(cdTimer); cdRunning = false;
        cdRemain = (cdMinutes * 60 + cdSeconds) * 1000;
        document.getElementById('cdDisplay').innerHTML  = pad(cdMinutes) + ':' + pad(cdSeconds);
        document.getElementById('cdDisplay').className = 'cd-display';
        document.getElementById('cdStartBtn').innerHTML = 'START';
        document.getElementById('cdStartBtn').className = 'tbtn tbtn-main';
        document.getElementById('cdAlert').innerHTML   = '';
    }
    cdRemain = (cdMinutes * 60 + cdSeconds) * 1000;

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       CALCULATOR
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    var calcCurrent = '0'; var calcPrev = ''; var calcOperator = ''; var calcNewNum = true; var calcResult = false;

    function calcDisplay() {
        var el = document.getElementById('calcNum'); el.innerHTML = calcCurrent;
        var len = calcCurrent.replace('-','').length;
        el.className = 'calc-num' + (len > 9 ? ' xsmall' : len > 6 ? ' small' : '');
    }
    function calcNum(v) {
        if (calcResult && v !== '.') { calcCurrent = '0'; calcResult = false; }
        if (v === '.') {
            if (calcNewNum) { calcCurrent = '0.'; calcNewNum = false; return calcDisplay(); }
            if (calcCurrent.indexOf('.') !== -1) return;
            calcCurrent += '.'; return calcDisplay();
        }
        if (calcNewNum) { calcCurrent = v; calcNewNum = false; }
        else { calcCurrent = calcCurrent === '0' ? v : calcCurrent + v; }
        if (calcCurrent.replace('-','').length > 12) return;
        calcDisplay();
    }
    function calcOp(op) {
        if (calcOperator && !calcNewNum) calcEqual(true);
        calcPrev = calcCurrent; calcOperator = op; calcNewNum = true; calcResult = false;
        var ids = {'√∑':'op-div','√ó':'op-mul','‚àí':'op-sub','+':'op-add'};
        var btns = document.querySelectorAll('.cb-op');
        for (var i = 0; i < btns.length; i++) btns[i].className = 'cb cb-op';
        if (ids[op]) document.getElementById(ids[op]).className = 'cb cb-op active';
        document.getElementById('calcExpr').innerHTML = calcPrev + ' ' + op;
    }
    function calcEqual(chain) {
        if (!calcOperator) return;
        var a = parseFloat(calcPrev); var b = parseFloat(calcCurrent); var r;
        if (calcOperator === '√∑') r = b !== 0 ? a / b : 'Error';
        if (calcOperator === '√ó') r = a * b;
        if (calcOperator === '‚àí') r = a - b;
        if (calcOperator === '+') r = a + b;
        if (!chain) {
            document.getElementById('calcExpr').innerHTML = calcPrev + ' ' + calcOperator + ' ' + calcCurrent + ' =';
            calcOperator = '';
            var btns = document.querySelectorAll('.cb-op');
            for (var i = 0; i < btns.length; i++) btns[i].className = 'cb cb-op';
        }
        if (r === 'Error') { calcCurrent = 'Error'; }
        else { var s = parseFloat(r.toFixed(10)).toString(); calcCurrent = s.length > 12 ? parseFloat(r.toPrecision(8)).toString() : s; }
        calcPrev = calcCurrent; calcNewNum = true; calcResult = !chain; calcDisplay();
    }
    function calcFn(fn) {
        var n = parseFloat(calcCurrent);
        if (fn === 'AC') {
            calcCurrent = '0'; calcPrev = ''; calcOperator = ''; calcNewNum = true; calcResult = false;
            document.getElementById('calcExpr').innerHTML = '';
            var btns = document.querySelectorAll('.cb-op');
            for (var i = 0; i < btns.length; i++) btns[i].className = 'cb cb-op';
        }
        if (fn === '+/-') { calcCurrent = (n * -1).toString(); calcResult = false; }
        if (fn === '%')   { calcCurrent = (n / 100).toString(); calcResult = false; }
        calcDisplay();
    }

    /* ‚îÄ‚îÄ Init ‚îÄ‚îÄ */
    updateClock();
    renderCalendar();
    renderBigCalendar();
    showQuote();
    loadFX();
    loadWeather();
    loadHolidays();

    setInterval(updateClock, 1000);
    setInterval(loadFX,      15 * 60 * 1000);
    setInterval(loadWeather, 30 * 60 * 1000);

    // Reload bypass cache m·ªói 10 ph√∫t
    setInterval(function() {
        window.location.href = window.location.href.split('?')[0] + '?t=' + new Date().getTime();
    }, 10 * 60 * 1000);

</script>
</body>
</html>
